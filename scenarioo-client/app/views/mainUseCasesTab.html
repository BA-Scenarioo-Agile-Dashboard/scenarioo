<div ng-controller="MainUseCasesTabCtrl">

    <div class="row sc-space-top sc-space-bottom">
        <div class="col-lg-3">
            <div class="input-group">
                <input type="text" class="ng-pristine ng-valid tableSearch form-control" id="useCasesSearchField"
                       data-toggle="tooltip" title="type words separated by spaces to search for"
                       ng-model="table.search.searchTerm" placeholder="Search use case ..."/>
                    <span class="input-group-btn">
                        <button type="button" ng-click="resetSearchField()" class="btn btn-default">reset</button>
                    </span>
            </div>
        </div>
        <div class="col-lg-9">
        </div>
    </div>
    <sc-show-hide-details sc-showHideStorageKey="main">
        <div>
            <!-- use cases table -->
            <table ng-table="tableParams" class="table table-curved table-hover table-responsive usecase-table"
                   ng-model="sort" sc-navigator-table="filtered">
                <thead>
                <tr>
                    <th sc-sortable-column="status">Status</th>
                    <th sc-sortable-column="name">Name</th>
                    <th>Description</th>
                    <th sc-sortable-column="numberOfScenarios"># Scenarios</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-class="{'selected':$index==selectedRowIndex}"
                    ng-repeat="useCase in filtered=(useCases | scFilterArray: table.search.searchTerm | orderBy: table.sort.column: table.sort.reverse)"
                    ng-click="goToUseCase(useCase.name)" class="link">
                    <td>
                        <span ng-class="[getStatusStyleClass(useCase.status), 'label']">{{useCase.status}}</span>
                    </td>
                    <td>{{useCase.name | scHumanReadable }}</td>
                    <td>{{useCase.description}}</td>
                    <td>{{useCase.numberOfScenarios}}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div>
            <!-- branch -->
            <div>
                <div class="panel panel-default">
                    <div class="panel-heading link" ng-click="toggleMetadataExpanded('sc-branch-properties')">
                        <h3 class="panel-title">Branch</h3>
                    </div>
                    <div class="panel-body" ng-class="{hidden: isMetadataCollapsed('sc-branch-properties'), metadata: true}">
                        <sc-tree data='branchInformationTree'></sc-tree>
                    </div>
                </div>
            </div>
            <!-- build -->
            <div>
                <div class="panel panel-default">
                    <div class="panel-heading link" ng-click="toggleMetadataExpanded('sc-build-properties')">
                        <h3 class="panel-title">Build</h3>
                    </div>
                    <div class="panel-body" ng-class="{hidden: isMetadataCollapsed('sc-build-properties'), metadata: true}">
                        <sc-tree data='buildInformationTree'></sc-tree>
                    </div>
                </div>
            </div>

            <sc-metadata-tree metadata-tree="metadataTreeBranches"></sc-metadata-tree>
            <sc-metadata-tree metadata-tree="metadataTreeBuilds"></sc-metadata-tree>


        </div>
    </sc-show-hide-details>
</div>